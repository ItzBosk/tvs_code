scenario Semaforo2

load Semaforo.asm

// Controllo lo stato iniziale
check statoSemaforo = ROSSO;
// Ricevo una richiesta di passaggio
set richiestaPassaggio := true;
set timerPassed := false;

step

// Controllo il passaggio sul verde
check statoSemaforo = VERDE;
// Forzo il passaggio sul rosso
exec statoSemaforo := ROSSO;
set timerPassed := false;
set richiestaPassaggio := false;

step

// Controllo che sia effettivamente tornato rosso
check statoSemaforo = ROSSO;