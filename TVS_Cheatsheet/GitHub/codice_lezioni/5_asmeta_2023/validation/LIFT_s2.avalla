scenario lift3_s2

load LIFT.asm

// ....setting inizial state
set insideCall(lift1, 0) := false;
set insideCall(lift1, 1) := false;
set insideCall(lift1, 2) := false;
set insideCall(lift1, 3) := false;
set insideCall(lift1, 4) := false;
set outsideCall(0, UP)   := false;
set outsideCall(0, DOWN) := false;
set outsideCall(1, UP)   := false;
set outsideCall(1, DOWN) := false;
set outsideCall(2, UP)   := false;
set outsideCall(2, DOWN) := false;
set outsideCall(3, UP)   := false;
set outsideCall(3, DOWN) := false;
set outsideCall(4, UP)   := false;

// an external request to floor 4
set outsideCall(4, DOWN) := true;
// lift goes to floor 4
step until ctlState(lift1) = HALTING and floor(lift1) = 4;
//// request to floor 2
set insideCall(lift1, 2) := true;
step
//// must go down to floor 2, down direction
check direction(lift1) = DOWN;
//// the request at floor 4 is cancelled
check not existsCallFromTo(4, DOWN);
//// goes to floor 2
//step until ctlState(lift1) = HALTING and floor(lift1) = 2;
//// request to floor 2 is cancelled
//check not insideCall(lift1, 2);