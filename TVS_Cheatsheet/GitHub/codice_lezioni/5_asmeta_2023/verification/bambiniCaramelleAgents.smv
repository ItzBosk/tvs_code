--file G:\.shortcut-targets-by-id\1LodlyCyMzQcaYN5eYeB-QDnlV6fsMZNS\asmetaGSSI\codiceAsmetaCorsoGSSI\verification\bambiniCaramelleAgents.smv
-- options: flatten? false
MODULE main
	VAR
		sweetOwned_CHIL1: {-2147483647, 0, 1, 2, 3, 4}; --controlled
		sweetOwned_CHIL2: {-2147483647, 0, 1, 2, 3, 4}; --controlled
		sweetOwned_CHIL3: {-2147483647, 0, 1, 2, 3, 4}; --controlled
		sweetOwned_CHIL4: {-2147483647, 0, 1, 2, 3, 4}; --controlled
		sweetOwned_CHIL5: {-2147483647, 0, 1, 2, 3, 4}; --controlled
		sweetOwned_CHIL6: {-2147483647, 0, 1, 2, 3, 4}; --controlled
		--declaration of choose variables
		var_$p_0: {CHIL1, CHIL2, CHIL3, CHIL4, CHIL5, CHIL6};
	DEFINE
		leftNeighbour_CHIL1 := CHIL2;
		leftNeighbour_CHIL2 := CHIL3;
		leftNeighbour_CHIL3 := CHIL4;
		leftNeighbour_CHIL4 := CHIL5;
		leftNeighbour_CHIL5 := CHIL6;
		leftNeighbour_CHIL6 := CHIL1;
		rightNeighbour_CHIL1 := CHIL6;
		rightNeighbour_CHIL2 := CHIL1;
		rightNeighbour_CHIL3 := CHIL2;
		rightNeighbour_CHIL4 := CHIL3;
		rightNeighbour_CHIL5 := CHIL4;
		rightNeighbour_CHIL6 := CHIL5;
	CONSTANTS CHIL1, CHIL2, CHIL3, CHIL4, CHIL5, CHIL6, CHILDREN_UNDEF, CHIL1, CHIL2, CHIL3, CHIL4, CHIL5, CHIL6;
	ASSIGN
		init(sweetOwned_CHIL1) := 4;
		init(sweetOwned_CHIL2) := 4;
		init(sweetOwned_CHIL3) := 4;
		init(sweetOwned_CHIL4) := 4;
		init(sweetOwned_CHIL5) := 4;
		init(sweetOwned_CHIL6) := 4;
		next(sweetOwned_CHIL1) :=
			case
				((!(sweetOwned_CHIL2 > 0) & !(sweetOwned_CHIL1 > 0) & (sweetOwned_CHIL3 > 0) & (var_$p_0 = CHIL2)) | (!(sweetOwned_CHIL1 > 0) & (var_$p_0 = CHIL1) & (sweetOwned_CHIL6 > 0))) & (sweetOwned_CHIL1 + 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL1 + 1);
				((((var_$p_0 = CHIL1) & (sweetOwned_CHIL1 > 0)) | (!(sweetOwned_CHIL2 > 0) & (var_$p_0 = CHIL2) & (sweetOwned_CHIL1 > 0))) | ((var_$p_0 = CHIL6) & !(sweetOwned_CHIL5 > 0) & (sweetOwned_CHIL1 > 0) & !(sweetOwned_CHIL6 > 0))) & (sweetOwned_CHIL1 - 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL1 - 1);
				TRUE: sweetOwned_CHIL1;
			esac;
		next(sweetOwned_CHIL2) :=
			case
				(((sweetOwned_CHIL2 > 0) & (var_$p_0 = CHIL3) & !(sweetOwned_CHIL3 > 0)) | (((sweetOwned_CHIL2 > 0) & !(sweetOwned_CHIL1 > 0) & (var_$p_0 = CHIL1) & !(sweetOwned_CHIL6 > 0)) | ((sweetOwned_CHIL2 > 0) & (var_$p_0 = CHIL2)))) & (sweetOwned_CHIL2 - 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL2 - 1);
				((!(sweetOwned_CHIL2 > 0) & (var_$p_0 = CHIL3) & !(sweetOwned_CHIL3 > 0) & (sweetOwned_CHIL4 > 0)) | (!(sweetOwned_CHIL2 > 0) & (var_$p_0 = CHIL2) & (sweetOwned_CHIL1 > 0))) & (sweetOwned_CHIL2 + 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL2 + 1);
				TRUE: sweetOwned_CHIL2;
			esac;
		next(sweetOwned_CHIL3) :=
			case
				(((var_$p_0 = CHIL4) & (sweetOwned_CHIL5 > 0) & !(sweetOwned_CHIL4 > 0) & !(sweetOwned_CHIL3 > 0)) | ((sweetOwned_CHIL2 > 0) & (var_$p_0 = CHIL3) & !(sweetOwned_CHIL3 > 0))) & (sweetOwned_CHIL3 + 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL3 + 1);
				(((var_$p_0 = CHIL4) & !(sweetOwned_CHIL4 > 0) & (sweetOwned_CHIL3 > 0)) | ((!(sweetOwned_CHIL2 > 0) & !(sweetOwned_CHIL1 > 0) & (sweetOwned_CHIL3 > 0) & (var_$p_0 = CHIL2)) | ((sweetOwned_CHIL3 > 0) & (var_$p_0 = CHIL3)))) & (sweetOwned_CHIL3 - 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL3 - 1);
				TRUE: sweetOwned_CHIL3;
			esac;
		next(sweetOwned_CHIL4) :=
			case
				(((var_$p_0 = CHIL5) & !(sweetOwned_CHIL5 > 0) & (sweetOwned_CHIL4 > 0)) | (((var_$p_0 = CHIL4) & (sweetOwned_CHIL4 > 0)) | (!(sweetOwned_CHIL2 > 0) & (var_$p_0 = CHIL3) & !(sweetOwned_CHIL3 > 0) & (sweetOwned_CHIL4 > 0)))) & (sweetOwned_CHIL4 - 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL4 - 1);
				(((var_$p_0 = CHIL5) & !(sweetOwned_CHIL4 > 0) & !(sweetOwned_CHIL5 > 0) & (sweetOwned_CHIL6 > 0)) | ((var_$p_0 = CHIL4) & !(sweetOwned_CHIL4 > 0) & (sweetOwned_CHIL3 > 0))) & (sweetOwned_CHIL4 + 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL4 + 1);
				TRUE: sweetOwned_CHIL4;
			esac;
		next(sweetOwned_CHIL5) :=
			case
				(((var_$p_0 = CHIL5) & !(sweetOwned_CHIL5 > 0) & (sweetOwned_CHIL4 > 0)) | ((var_$p_0 = CHIL6) & !(sweetOwned_CHIL5 > 0) & (sweetOwned_CHIL1 > 0) & !(sweetOwned_CHIL6 > 0))) & (sweetOwned_CHIL5 + 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL5 + 1);
				(((sweetOwned_CHIL5 > 0) & (var_$p_0 = CHIL6) & !(sweetOwned_CHIL6 > 0)) | (((var_$p_0 = CHIL4) & (sweetOwned_CHIL5 > 0) & !(sweetOwned_CHIL4 > 0) & !(sweetOwned_CHIL3 > 0)) | ((sweetOwned_CHIL5 > 0) & (var_$p_0 = CHIL5)))) & (sweetOwned_CHIL5 - 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL5 - 1);
				TRUE: sweetOwned_CHIL5;
			esac;
		next(sweetOwned_CHIL6) :=
			case
				(((var_$p_0 = CHIL6) & (sweetOwned_CHIL6 > 0)) | (((var_$p_0 = CHIL5) & !(sweetOwned_CHIL4 > 0) & !(sweetOwned_CHIL5 > 0) & (sweetOwned_CHIL6 > 0)) | (!(sweetOwned_CHIL1 > 0) & (var_$p_0 = CHIL1) & (sweetOwned_CHIL6 > 0)))) & (sweetOwned_CHIL6 - 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL6 - 1);
				(((sweetOwned_CHIL2 > 0) & !(sweetOwned_CHIL1 > 0) & (var_$p_0 = CHIL1) & !(sweetOwned_CHIL6 > 0)) | ((sweetOwned_CHIL5 > 0) & (var_$p_0 = CHIL6) & !(sweetOwned_CHIL6 > 0))) & (sweetOwned_CHIL6 + 1) in {-2147483647, 0, 1, 2, 3, 4}: (sweetOwned_CHIL6 + 1);
				TRUE: sweetOwned_CHIL6;
			esac;
	INVAR	((var_$p_0 = CHIL4) | (var_$p_0 = CHIL5) | (var_$p_0 = CHIL6) | (var_$p_0 = CHIL1) | (var_$p_0 = CHIL2) | (var_$p_0 = CHIL3));
--CTL properties
CTLSPEC NAME ctl0 := AG(((((((sweetOwned_CHIL1 + sweetOwned_CHIL2) + sweetOwned_CHIL3) + sweetOwned_CHIL4) + sweetOwned_CHIL5) + sweetOwned_CHIL6) <= 24));
CTLSPEC NAME ctl1 := (AG((sweetOwned_CHIL2 <= 4)) & AG((sweetOwned_CHIL3 <= 4)) & AG((sweetOwned_CHIL4 <= 4)) & AG((sweetOwned_CHIL5 <= 4)) & AG((sweetOwned_CHIL1 <= 4)) & AG((sweetOwned_CHIL6 <= 4)));
CTLSPEC NAME ctl2 := EF(((((((sweetOwned_CHIL1 + sweetOwned_CHIL2) + sweetOwned_CHIL3) + sweetOwned_CHIL4) + sweetOwned_CHIL5) + sweetOwned_CHIL6) = 0));
CTLSPEC NAME ctl3 := EF((((sweetOwned_CHIL1 = 0) & ((sweetOwned_CHIL2 > 0) | (sweetOwned_CHIL6 > 0))) & EX((sweetOwned_CHIL1 > 0))));
CTLSPEC NAME ctl4 := EF((EX((sweetOwned_CHIL1 > 0)) & (sweetOwned_CHIL1 = 0)));
