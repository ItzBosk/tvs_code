MODULE main

VAR
press : boolean;
light : {on,off};
consumo : boolean;
minuti : 1 ..  100;

DEFINE
    mezzoora := (minuti > 30);
    
ASSIGN
	init(light) := off;
	next(light) := 
	case
	   press & light = on : off;
	   press & light = off : on;
	   TRUE: light;
    esac;
    
    consumo := (light = on);

    init(minuti):= 1;
    next(minuti):= case
        minuti < 100 : minuti +1;
        TRUE:minuti;
        esac;
      
LTLSPEC
	G((press & light = on) -> X(light = off));